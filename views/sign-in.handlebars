<section class="grid grid-cols-1 justify-items-center gap-2 p-4">
	<h2 class="text-xl">Sign In</h2>
	<input class="w-full sm:w-3/4 border rounded-lg p-4 border-gray-300 text-black" type="text" placeholder="Email" id="email">
	<input class="w-full sm:w-3/4 border rounded-lg p-4 border-gray-300 text-black" type="password" placeholder="Password" id="password">
	<button id="sign-in" class="w-full sm:w-3/4 border rounded-lg p-4" type="submit">Sign In</button>
	<p>Donâ€™t have an account? <a class="underline" href="/sign-up">Sign Up</a></p>
</section>

<!-- ** -->

<script>
	// Sign in the user.
	document.getElementById("sign-in").addEventListener("click", async () => {
		// Get the email and password from the user.
		const email = document.getElementById("email").value.trim()
		const password = document.getElementById("password").value.trim()
		// If the user entered an email and password, call the signInUser API.
		if (email && password) {
			// Call the API.
			const response = await fetch("/api/user/sign-in", {
				method: "POST",
				headers: { "Content-Type": "application/json" },
				body: JSON.stringify({
					email,
					password,
				}),
			})
			// If successful, redirect to home page. Else, display alert with error message.
			if (response.ok) {
				document.location.replace("/dashboard")
			} else {
				alert(response.statusText)
			}
		}
	})
</script>
