<section class="grid grid-cols-1 justify-items-center gap-2 p-4">
	<h2 class="text-xl">Sign Up</h2>
	<input class="w-full sm:w-3/4 border rounded-lg p-4 border-gray-300 text-black" type="text" placeholder="Display Name" id="display-name">
	<input class="w-full sm:w-3/4 border rounded-lg p-4 border-gray-300 text-black" type="text" placeholder="Email" id="email" autocomplete="off">
	<input class="w-full sm:w-3/4 border rounded-lg p-4 border-gray-300 text-black" type="password" placeholder="Password" id="password" autocomplete="off">
	<button id="sign-up" class="w-full sm:w-3/4 border rounded-lg p-4" type="submit">Sign Up</button>
	<p>Already have an account? <a class="underline" href="/sign-in">Sign In</a></p>
</section>

<!-- ** -->

<script>
	// Sign up user.
	document.getElementById("sign-up").addEventListener("click", async () => {
		// Get the first and last name, email, and password from the user.
		const displayName = document.getElementById("display-name").value.trim()
		const email = document.getElementById("email").value.trim()
		const password = document.getElementById("password").value.trim()
		// If the user entered a first and last name, email, and password, call the signUpUser API.
		if (displayName && email && password) {
			// Call the API.
			const response = await fetch("/api/user", {
				method: "POST",
				headers: { "Content-Type": "application/json" },
				body: JSON.stringify({
					displayName,
					email,
					password,
				}),
			})
			// If successful, redirect to home page. Else, display alert with error message.
			if (response.ok) {
				document.location.replace("/dashboard")
			} else {
				alert(response.statusText)
			}
		}
	})
</script>
